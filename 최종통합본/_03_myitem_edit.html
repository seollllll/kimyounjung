<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="js/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="css/ress.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style_header_footer.css">
    <link rel="stylesheet" href="css/_02_myitem_register.css">

    <script src="js/bootstrap.bundle.min.js"></script>

    <title>상품 수정</title>

</head>
<body>
    <!--header-->
    <header>
        <div class="top-bg">
            <div class="top-navbar">
                <div class="nav justify-content-end topStatus">
                    <a class="nav-link" href="#" disabled>admin님 환영합니다.</a>
                    <a class="nav-link" href="index.html">로그아웃</a>
                </div>
            </div>
        </div>
        <div class="wrap">
            <div class="logo">
                <a href="index.html"><img src="images/main_logo.png" alt="로고"></a>
            </div>
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav justify-content-end">
                        <a class="nav-link" href="">이용안내</a>
                        <img src="images/bar.png" alt="막대">
                        <a class="nav-link" href="Category.html">상품검색</a>
                        <img src="images/bar.png" alt="막대">
                        <a class="nav-link" href="_01_item_register_main.html">상품등록</a>
                        <img src="images/bar.png" alt="막대">
                        <a class="nav-link" href="support.html">고객센터</a>
                        <img src="images/bar.png" alt="막대">
                        <a class="nav-link last-nav" href="mypage.html">나의경매</a>
                    </div>
                  </div>
                </div>
              </nav>
        </div>
    </header>
    <main>
        <div id="pageTitle">상품 수정</div>
        <hr>
        <!-- 상단 내용 입력 -->
        <section class="top">
            <!-- section -->
            <!-- 1. 좌상단 이미지 -->
            <article style="margin-left: 60px">
                <!-- article -->
                <div>
                    <!-- div -->
                    <div>
                        <div class="section_upload">
                            <!-- div>div -->
                            <form action="" method="post" enctype="multipart/form-data">
                                <input type="file" id="fileUpload" accept='image/*' style="display: none" >
                                <img src="images/case.png" id="previewImg" width="240px" height="240px" min-width="50%" style="border: 1px solid white" >
                            </form>
                            <label for="fileUpload" style="margin-left: 75px;" ><img id="uploadIcon" src="images/file_upload.png" width="20px" height="20px" margin="3px" alt="사진 올리기">사진 업로드</label>

                        </div>
                            <div id="previewItems" style="border: 1px solid white" class="section_preview">
                        </div>
                    </div>
                    <table>
                        <tr>
                            <td class="bar"><</td>
                            <td class="selected">1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td class="bar">></td>
                        </tr>
                    </table>
                </div>
            </article>

            <!-- 2. 우상단 정보 기입란 -->
            <aside>
                <!-- aside -->
                <div>
                    <!-- div -->
                    <table style="margin: 10px; margin-left: 30px;">
                        <tr>
                            <td class="namecontent">제목</td>
                            <td class="inputcontent"><input type="text" value="맥북에어m1 케이스 팝니다" required></td>
                        </tr>
                        <tr>
                            <td class="namecontent">상품명</td>
                            <td class="inputcontent"><input type="text" value="케이스" required></td>
                        </tr>
                        <tr>
                            <td class="namecontent">카테고리</td>
                            <td class="inputcontent">
                                <select id="user_path">
                                    <optgroup label="가전">
                                        <option value="tv">TV/영상가전</option>
                                        <option value="web">음향가전</option>
                                        <option value="pc">생활가전</option>
                                        <option value="pc">주방가전</option>
                                        <option value="pc">계절가전</option>
                                        <option value="pc">이미용가전</option>
                                        <option value="pc">건강가전</option>
                                    </optgroup>
                                    <optgroup label="디지털">
                                        <option value="fr" selected>노트북/주변기기</option>
                                        <option value="cf">모바일/IT용품</option>
                                    </optgroup>
                                    <optgroup label="주방">
                                        <option value="tv">조리용품</option>
                                        <option value="web">그릇/홈세트</option>
                                        <option value="pc">밀폐/저장용품</option>
                                        <option value="pc">주방소모품</option>
                                        <option value="pc">컵/잔/텀블러</option>
                                    </optgroup>
                                    <optgroup label="생활">
                                        <option value="tv">가구/침구/홈데코</option>
                                        <option value="web">베이비&키즈</option>
                                        <option value="pc">제지류</option>
                                        <option value="pc">세탁/욕실/청소</option>
                                        <option value="pc">생활잡화</option>
                                        <option value="pc">오피스/문구</option>
                                        <option value="pc">반려용품</option>
                                    </optgroup>
                                    <optgroup label="뷰티/패션">
                                        <option value="tv">스킨케어</option>
                                        <option value="web">헤어/바디케어</option>
                                        <option value="pc">메이크업</option>
                                        <option value="pc">향수/캔들</option>
                                        <option value="pc">패션잡화</option>
                                    </optgroup>
                                    <optgroup label="생활">
                                        <option value="tv">가구/침구/홈데코</option>
                                        <option value="web">베이비&키즈</option>
                                        <option value="pc">제지류</option>
                                        <option value="pc">세탁/욕실/청소</option>
                                        <option value="pc">생활잡화</option>
                                        <option value="pc">오피스/문구</option>
                                        <option value="pc">반려용품</option>
                                    </optgroup>
                                    <option value="etc">기타</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="namecontent">수량</td>
                            <td class="inputcontent"><input type="text" value="1" required></td>
                        </tr>
                        <tr>
                            <td class="namecontent">시작가</td>
                            <td class="inputcontent"><input type="text" maxlength="10" value="9,000" onkeyup="inputNumberFormat(this);" required></td>
                        </tr>
                        <tr>
                            <td class="namecontent">즉시 구매가</td>
                            <td class="inputcontent"><input type="text" maxlength="10" value="10,000" onkeyup="inputNumberFormat(this);"  required></td>
                        </tr>
                        <tr>
                            <td class="namecontent">경매방식</td>
                            <td class="inputcontent">
                                <div>
                                    <button class="opt1">기한입찰</button>
                                    <div></div>
                                    <button class="opt2">xx입찰</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="namecontent">경매기간</td>
                            <td class="inputcontent">
                                <div>
                                    <button class="opt3">24시간</button>
                                    <div></div>
                                    <button class="opt4">48시간</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="namecontent">배송방식</td>
                            <td class="inputcontent">
                                <div>
                                    <button class="opt5">택배배송</button>
                                    <div></div>
                                    <button class="opt6">직거래</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </aside>

            <script>

                // 자바스크립트 영역

                function comma(str) {
                    str = String(str);
                    return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
                }

                function uncomma(str) {
                    str = String(str);
                    return str.replace(/[^\d]+/g, '');
                } 
                
                function inputNumberFormat(obj) {
                    obj.value = comma(uncomma(obj.value));
                }
                
                function inputOnlyNumberFormat(obj) {
                    obj.value = onlynumber(uncomma(obj.value));
                }
                
                function onlynumber(str) {
                    str = String(str);
                    return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g,'$1');
                }

                // switch

                let opt_switch1 = true

                $(".opt1").click(function () {
                    opt_switch1 = true
                    toggleSwitch1()
                    console.log(opt_switch1)
                })

                $(".opt2").click(function () {
                    opt_switch1 = false
                    toggleSwitch1()
                    console.log(opt_switch1)
                })

                function toggleSwitch1() {
                if(opt_switch1 == true) {
                    $(".opt1").css("background", "rgb(17, 100, 100)")
                    $(".opt1").css("color", "white")
                    $(".opt2").css("background", "lightgray")
                    $(".opt2").css("color", "black")
                } else if (opt_switch1 == false) {
                    $(".opt2").css("background", "rgb(17, 100, 100)")
                    $(".opt2").css("color", "white")
                    $(".opt1").css("background", "lightgray")
                    $(".opt1").css("color", "black")
                }}

                let opt_switch2 = true

                    $(".opt3").click(function () {
                        opt_switch2 = true
                        toggleSwitch2()
                        console.log(opt_switch2)
                    })

                    $(".opt4").click(function () {
                        opt_switch2 = false
                        toggleSwitch2()
                        console.log(opt_switch2)
                    })

                    function toggleSwitch2() {
                    if(opt_switch2 == true) {
                        $(".opt3").css("background", "rgb(17, 100, 100)")
                        $(".opt3").css("color", "white")
                        $(".opt4").css("background", "lightgray")
                        $(".opt4").css("color", "black")
                    } else if (opt_switch2 == false) {
                        $(".opt4").css("background", "rgb(17, 100, 100)")
                        $(".opt4").css("color", "white")
                        $(".opt3").css("background", "lightgray")
                        $(".opt3").css("color", "black")
                    }}

                    let opt_switch3 = true

                        $(".opt5").click(function () {
                            opt_switch3 = true
                            toggleSwitch3()
                            console.log(opt_switch3)
                        })

                        $(".opt6").click(function () {
                            opt_switch3 = false
                            toggleSwitch3()
                            console.log(opt_switch3)
                        })

                        function toggleSwitch3() {
                        if(opt_switch3 == true) {
                            $(".opt5").css("background", "rgb(17, 100, 100)")
                            $(".opt5").css("color", "white")
                            $(".opt6").css("background", "lightgray")
                            $(".opt6").css("color", "black")
                        } else if (opt_switch3 == false) {
                            $(".opt6").css("background", "rgb(17, 100, 100)")
                            $(".opt6").css("color", "white")
                            $(".opt5").css("background", "lightgray")
                            $(".opt5").css("color", "black")
                        }}

                // 파일 업로드
                const fileInput = document.getElementById("fileUpload");

                const handleFiles = (e) => {
                const selectedFile = [...fileInput.files];
                // 객체 선언
                const fileReader = new FileReader();

                fileReader.readAsDataURL(selectedFile[0]);

                // 미니뷰에 사진 추가
                fileReader.onload = function () {
                    // console.log(fileReader, 'hi~');
                    // console.log(document.getElementById("previewImg").src, 'prev');
                    if (document.getElementById("previewImg").src) {
                        const previewImagesHolder = document.getElementById("previewItems")
                        const prevImage = document.createElement("img");
                        prevImage.src = fileReader.result;
                        const prevImageDiv = document.createElement("div");
                        prevImageDiv.className = 'miniview';
                        prevImageDiv.append(prevImage);
                        previewImagesHolder.append(prevImageDiv)
                    }
                    document.getElementById("previewImg").src = fileReader.result;
                };
                };

                fileInput.addEventListener("change", handleFiles);

                // .html?key1=value1&key2=value2&
                // submit

                function saveTemp () {
                    alert("작성중인 내용이 마이페이지에 저장되었습니다.")
                }
                function registerCompleted() {
                    alert("상품등록이 완료되었습니다.")
                }

            </script>


        </section>

        <!-- 하단 세부 내용 입력 -->
        <section class="bottom">
            
            <div class="bottom-up">
                <div></div>
                <div>상세내용기재</div>
                <div></div>
                <div></div>
                <div>
                    <textarea name="" id="" cols="30" rows="10">
                        맥북에어m1 케이스 미개봉품입니다. 박스 훼손도 없는 신품입니다.
                    </textarea>
                </div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div class="bottom-down">
                <!-- 투명박스 -->
                <div></div>
                <!-- 제출/임시저장/취소 버튼 -->
                <input class="rebidding blue" value="등록" type="submit" data-bs-toggle="modal" data-bs-target="#intro"></input>
                <input value="임시저장" onclick="saveTemp()"></input>
                <a href="_01_item_register_main.html">
                    <input value="취소" type="reset"></input>
                </a>
                
            </div>
            <br>
            <br>

            <!-- 재입찰 모달 -->
            <div class="modal fade" id="intro">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">맥북에어m1 케이스 팝니다</h4>
                        </div>
                        <div class="modal-body">
                            <table id="modal_table">
                                <tr>
                                    <td><strong>상품명</strong></td>
                                    <td>케이스</td>
                                </tr>
                                <tr>
                                    <td><strong>카테고리</strong></td>
                                    <td>노트북/주변기기</td>
                                </tr>
                                <tr>
                                    <td><strong>수량</strong></td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td><strong>시작가</strong></td>
                                    <td>9,000원</td>
                                </tr>
                                <tr>
                                    <td><strong>즉시구매가</strong></td>
                                    <td>10,000원</td>
                                </tr>
                                <tr>
                                    <td><strong>경매방식</strong></td>
                                    <td>기한입찰</td>
                                </tr>
                                <tr>
                                    <td><strong>경매기간</strong></td>
                                    <td>24시간</td>
                                </tr>
                                <tr>
                                    <td><strong>배송방식</strong></td>
                                    <td>택배배송</td>
                                </tr>
                            </table>
                            <br>
                            <p style="color: rgb(18, 100, 100); text-align: center;"><strong>상기 정보로 등록하시겠습니까?</strong></p>
                        </div>
                        <div class="modal-footer">
                            <!-- button이나 div에는 href 속성을 넣을 수 없기 때문에 a태그로 감싸줘야 함 -->
                            <a href="_01_item_register_main.html" onclick="registerCompleted()">
                                <button type="button" id="rebidding_on" data-bs-dismiss="modal" class="btn btn-primary" style="background-color: rgb(18,100,100)">
                                등록
                                </button>
                            </a>
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" style="background-color: lightgray; color: black;">
                                취소
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</body>
    <!--footer-->
    <footer>
    <div class="footer-div">
        <div class="footer1">
            <p><strong>Koction</strong>
                <br>서울특별시 강남구 강남대로 94길 20<br>
                상호명 : (주) 콕션<br>
                대표자 : 고기천<br>
            </p>
        </div>
        <div class="footer2">
            <div>
                <p><strong>고객센터</strong>
                    <br>Tel: 1688-5757 ( 평일 09:00 ~ 18:00 )<br>
                    이메일: koction@koction.kr<br>
                FAX: 1688-5758</p>
            </div>
        </div>
    </div>
    <div class="footer3">
        <p>
            (주)콕션은 통신판매중개자이며 통신판매의 당사자가 아닙니다. 따라서 (주)콕션은 상품거래정보 및 가격에 대하여 책임을 지지 않습니다.
            <br>
            본사이트의 모든 정보, 콘텐츠, UI 등에 대한 무단 복제, 전송, 배포, 스크래핑 등의 행위는 관련 법령에 의하여 엄격히 금지됩니다.
        </p>
        <span><small>&copy; 2022 Koction</small></span>
    </div>
</footer>
</html>